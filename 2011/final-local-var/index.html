<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-2098194-3');</script><meta charset="utf-8"><meta name="google-site-verification" content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta name="viewport" content="width=device-width,initial-scale=1"><title>지역 변수에 final을 붙여야 하나 @ntalbs' stuff</title><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"></head><body><div id="progress"><div id="bar"></div><div class="container"><div id="scroll-title">지역 변수에 final을 붙여야 하나</div></div></div><nav class="navbar" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle unselectable" data-toggle="collapse" data-target="#nav-items">+</button>
<a class="navbar-brand unselectable" href="/">@ntalbs' stuff</a></div><div class="navbar-items collapsed" id="nav-items"><ul><li><a class="unselectable" href="/archive/">Archive</a></li><li><a class="unselectable" href="/tags/">Tags</a></li><li><a class="unselectable" href="/about/">About</a></li></ul></div></div></nav><header class="page-head"><div class="container"><p class="blog-description">내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class="container" role="main"><article class="post"><header><p class="post-meta"><time datetime="2011-08-23" itemprop="datePublished">2011-08-23</time>
on
<a href="/tags/java/">Java</a></p><h1 class="post-title">지역 변수에 final을 붙여야 하나</h1></header><section class="post-content"><p>회사에서 작성하는 모든 소스 코드에 대해 Quality Practice(이하 QP)를 적용하려 하고 있다. Java 코드에 대해서는 <a href="http://findbugs.sourceforge.net/">Findbugs</a>, <a href="http://pmd.sourceforge.net/">PMD</a>, <a href="http://checkstyle.sourceforge.net/">Checkstyle</a>과 같은 도구를 사용해 소스 코드를 분석한다. 물론 각 도구를 적용할 때의 규칙(rule)은 QP 담당자였던 내 주관적 판단(또는 취향)에 따라 조정한다.</p><p>(지금은 QP 담당자가 다른 사람으로 바뀌었지만, 각 규칙을 조정할 정도로 관심을 가지지는 않는 듯 하다.)</p><p>이런 도구를 사용하면 코딩 표준을 강제할 수 있을뿐 아니라 잠재적 문제가 있는 코드, 비효율적인 코드 등을 쉽게 발견해준다. 그러나, 각 도구의 규칙이 서로 충돌하는 경우도 있고, 심지어 한 도구 내에서도 서로 충돌하는 규칙도 있다. 따라서 모든 규칙을 만족하도록 코드를 작성하는 것은 바보같은 짓이다. <strong>각 규칙을 확인하고 자신의 개발 조직에 맞도록 규칙을 지속적으로 조정해가는 것이 좋다.</strong></p><p>그런데 가끔 고민을 하게 만드는 규칙이 있다. 예를 들면 PMD의 <code>LocalVariableCouldBeFinal</code>과 같은 규칙이 그렇다. 이 규칙의 의도는 이해할만 하다. 지역변수라도 변하지 않는 것은 <code>final</code>로 선언해 의도를 명확히 하자는 것이다. 그런데 변하지 않는 지역변수에 모두 <code>final</code>을 붙이는 것은 소스 코드를 너저분하게 만든다는 문제가 있다. 바로 이 부분에서 개인에 따라 취향이 갈릴 것이다. 좋은 규칙을 따르는 것이 좋지만 너저분한 것은 싫어한다는 것에서 내 고민이 시작된다. 업계의 Best Practice가 <code>final</code>을 붙이는 것이라면 따지지 말고 그냥 붙이자는 심산으로 인터넷을 검색해보기도 했지만, 붙여어 된다, 필요없다 의견이 갈리는 것 같다.</p><p><a href="http://stackoverflow.com/questions/316352/why-would-one-mark-local-variables-and-method-parameters-as-final-in-java">Do you “final”ize local variables and method parameters in Java?</a></p><p>공통된 업계 의견이 없다면 이 규칙을 적용하는 것이 어떤 도움이 될지를 생각해보는 것이 좋겠다. 이 규칙을 적용한 다음 개발자에게 이 규칙을 따르라고 압박하면 아마 개발자들은 기계적으로 지역변수 선언부에 <code>final</code>을 붙일 것이다. 이렇게 된다면 어떤 좋은 점이 있을까?</p><p>PMD는 지역변수 중 한 번만 할당되는 것을 찾아 <code>final</code>을 붙일 수 있다고 알려줄 뿐이다.</p></section><footer class="post-footer"><div class="social button-box"><a href="https://twitter.com/share" class="twitter-share-button" data-show-count="false">Tweet</a>
<a class="twitter-follow-button" href="https://twitter.com/ntalbs" data-show-count="false">Follow @ntalbs</a>
<script async="" src="//platform.twitter.com/widgets.js"></script></div><nav id="article-nav"><a class="article-nav-link-wrap previous" href="https://ntalbs.github.io/2012/ways/" id="article-nav-newer">Ways 프로그램</a>
<a class="article-nav-link-wrap next" href="https://ntalbs.github.io/2011/no-such-method-error/" id="article-nav-older">NoSuchMethodError</a></nav></footer></article></main><section class="section"><div class="container"><aside><div id="disqus_thread"></div></aside><script type="text/javascript">var disqus_shortname='ntalbs-stuff';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class="section"><div class="container has-text-centered"><p></p></div></section><script src="https://ntalbs.github.io/js/index.js" type="text/javascript"></script><footer class="page-bottom"><div class="inner"><section class="copyright">© 2008-2019 <a href="/about">ntalbs</a></section><section class="poweredby">Powered by <a class="icon-ghost" href="https://gohugo.io">Hugo</a></section></div></footer></body></html>