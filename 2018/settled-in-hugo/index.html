<!doctype html><html><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-2098194-3');</script><meta charset=utf-8><meta name=google-site-verification content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta name=viewport content="width=device-width,initial-scale=1"><title>블로그 Hugo 이전 후기 @ntalbs' stuff</title><link rel="shortcut icon" href=/images/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/xcode.css></head><body><div id=progress><div id=bar></div><div class=container><div id=scroll-title>블로그 Hugo 이전 후기</div></div></div><nav class=navbar role=navigation><div class=container><div class=navbar-header><button type=button class="navbar-toggle unselectable" data-toggle=collapse data-target=#nav-items>+</button>
<a class="navbar-brand unselectable" href=/>@ntalbs' stuff</a></div><div class="navbar-items collapsed" id=nav-items><ul><li><a class=unselectable href=/archive/>Archive</a></li><li><a class=unselectable href=/tags/>Tags</a></li><li><a class=unselectable href=/about/>About</a></li></ul></div></div></nav><header class=page-head><div class=container><p class=blog-description>내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class=container role=main><article class=post><header><p class=post-meta><time datetime=2018-08-05 itemprop=datePublished>2018-08-05</time>
on
<a href=/tags/hugo/>Hugo</a>
<a href=/tags/hexo/>Hexo</a></p><h1 class=post-title>블로그 Hugo 이전 후기</h1></header><section class=post-content><p>지난 4년간 블로그를 생성할 때 <a href=https://hexo.io/>Hexo</a>를 사용했는데 최근 <a href=https://gohugo.io/>Hugo</a>로 이전했다. <a href=https://www.staticgen.com/>StaticGen</a>에서는 정적 사이트 생성기를 깃헙 스타 개수나 트위터 팔로우어 수로 정렬해 볼 수 있다. 4년 전 어떤 프로그램을 쓸까 고민하던 때만 해도 Hexo가 훨씬 인기가 많았던 것 같은데, 지금은 Hugo가 Hexo를 제친 것 같다.</p><p>익숙한 도구를 버리고 새로운 환경에 적응하기로 마음 먹는 것은 쉬운 일이 아니다. 테마까지 직접 작성해 사용하는 등 그동안 들인 <a href=/tags/hexo/>노력</a>을 생각한다면 Hexo를 떠나기가 어려웠다. <a href=/2014/restart/>Hexo를 선택한 이유</a>까지 고려하면 알지 못하는 <a href=https://golang.org/>Go 언어</a>로 작성된 Hugo를 쓰기로 한 것은 정말 큰 결심이 아닐 수 없다.</p><p>이런 이유에도 Hugo를 쓰기로 결정한 가장 큰 이유는 <strong>성능</strong>과 <strong>안정성</strong>이다. 이 글에서는 내가 Hexo를 사용하면서 불만이었던 성능과 안정성 문제를 간단히 설명하고, 그 밖의 차이점을 간단히 정리하려 한다. 여기서 Hexo와 Hugo의 모든 기능을 분석/비교하려는 의도는 전혀 없음을 미리 밝힌다.</p><h2 id=heading>성능</h2><p>Hexo로 내 블로그를 생성하는 데는 대략 1분 걸린다. HTML, CSS, JS 최적화 수행이 포함된 시간이다. 최적화 옵션을 모두 빼도 40초가 걸린다. 블로그 글이 늘어나면 사이트 생성도 더 오래 걸릴 것이다. 실수를 해서 실행을 중단시키고 싶어도 쉽지 않다. <code>Ctrl+C</code>를 연달아 눌러도 중단되지 않아 한참을 기다려야 한다.</p><p>Hugo로는 전체 사이트를 생성하는데는 300ms 정도 걸린다. Hexo의 사이트 생성 시간을 60초라 하면 200배 차이가 나는 것이고, 40초라 해도 130배 차이가 나는 것이다. 엄청난 차이가 아닐 수 없다. Hugo로 생성할 때는 명령 실행과 거의 동시에 사이트 생성이 끝난다.</p><p>Hexo는 서버모드로 뜨는 데도 시간이 오래 걸린다. 에디터에서 글을 변경해도 반영되는 속도가 느리다. 태그 페이지 생성이 특히 느린데, 브라우저로 태그 페이지 링크를 클릭하면 한참 지나서야 페이지가 표시된다. Hugo에서는 그런 문제가 없다. 모든 게 쾌적하다.</p><h2 id=heading-1>안정성</h2><p>나는 항상 소프트웨어 버전을 최신으로 유지하려 노력한다. Node.js나 기타 라이브러리도 가능한 최신 버전으로 유지한다. Hexo 버전도 마찬가지다. Hexo에서는 버전을 업그레이드 할 때마다 항상 문제가 생겼다. Hexo만의 문제라 할 수는 없지만, <code>npm update</code>를 하고 나면 에러가 발생하는 경우가 너무 잦았다.</p><p>업데이트 할 때 에러가 발생하면 그나마 다행이라 할 수 있다. 아무 문제 없이 업데이트 된 줄 알았는데, 사이트를 생성해 배포하고 나서 잘못된 것을 발견하면 문제가 심각해진다. 주로 수식 표현에 문제가 생기거나 코드 하이라이트에 문제가 생겼다. 이미지 링크가 깨지는 경우도 있고, 레이아웃이 깨지는 경우도 있었다.</p><p>내 블로그에 방문자가 많은 것은 아니지만, 블로그를 깨진 상태로 방치할 수는 없다. 블로그에 깨진 링크나 이미지, 수식이 있다면 글의 신뢰도도 낮아질 것이다. 그렇다고 소프트웨어를 업데이트할 때마다 블로그의 모든 페이지를 확인할 수도 없다. 이건 Hexo(또는 Node.js)의 문제지 내 문제가 아니다.</p><p>Hugo에서는 아직 이런 문제를 경험하지 못했다. Hugo로 마이그레이션한 후 몇 번 Hugo 버전이 올라갔지만 문제를 발견한 적은 없다. Hexo를 쓸 때는 소프트웨어 업데이트 후에 수백 페이지를 확인하며 혹시 깨진 데가 없나 확인해야 했지만, Hugo에서는 소프트웨어 버전 업데이트 후에도 마음이 편하다.</p><h2 id=heading-2>테마</h2><p>블로그를 Hugo로 이전할 때 가장 마음에 걸렸던 것 중 하나가 테마다. Hexo도 그렇고 Hugo도 그렇고 이미 다른 사람들이 작성한 예쁜 테마가 많지만, 마음에 쏙 드는 테마를 찾기도 어려웠다. 테마를 직접 작성해야 블로그에 대한 모든 통제를 할 수 있다는 생각도 들어 테마는 직접 작성한 것을 사용하고 싶었다.</p><p>Hexo를 쓸 때 <a href=http://ejs.co/>EJS</a>로 테마를 작성해 사용했는데, 이걸 Hugo에서 사용할 수 있게 바꾸는 게 쉬울지 걱정이었다. 블로그 테마를 작성하는 것은 재미있는 일이지만 여기에 너무 많은 시간을 보내고 싶지는 않았다. 다행히 Hugo에서도 똑같이 보이도록 테마를 수정하는 것은 생각만큼 어렵지 않았다.</p><p>Hexo로 사이트를 만들었을 때 불만 중 하나는 불필요한 페이지 생성을 막을 방법을 찾을 수 없다는 점이었다. 예를 들어 아카이브 페이지(<code>/archive</code>)를 페이지 처리하지 않도록 설정했는데도 <code>/archive/page/2</code>, <code>/archive/page/2</code> 같은 페이지가 생성되었다. Hugo에서는 이런 불필요한 페이지가 생성되지 않는다.</p><h2 id=->컨텐트 관리</h2><p>Hexo에서는 <code>_draft</code> 디렉터리가 따로 있어 작업중인 글은 <code>_draft</code> 디렉터리에 보관하고 공개할 때는 파일을 <code>_posts</code> 디렉터리로 옮겼다. Hugo에서는 <code>content</code> 디렉터리에 실제 생성할 사이트 URL 경로와 동일한 구조로 디렉터리 구조를 만들어 파일을 관리하면 된다. 작업중인 글은 front matter에서 <code>draft:true</code>로 설정해 놓으면 로컬 서버에서는 보이고 사이트 생성 시에는 제외된다.</p><p>Hugo에서 한 가지 아쉬운 점이 있다. 나는 글을 연도별 디렉터리에 관리하는데 Hugo에서는 디렉터리가 다른 글에 대해서는 Prev/Next 링크를 만들어주지 않는 것 같다. 그래서 현재 블로그에서는 2017년도 마지막 글에서 2018년도 첫 글로 연결되는 <code>Prev</code> 링크가 없고, 2018년도 첫 글에서 2017년도 마지막 글로 연결되는 <code>Next</code> 링크가 없다. 그러나 치명적인 단점은 아니다.</p><p>Hexo와 Hugo의 컨텐트 관리 방식은 어느 쪽이 더 낫다기 보다는 그냥 방식이 다른 것이라 생각한다. 이 정도 차이는 충분히 적응할 수 있다. 지금은 이미 Hugo 방식에 적응했다.</p><h2 id=heading-3>배포</h2><p>Hexo에서는 <code>hexo generate --deploy</code> 명령으로 사이트 생성과 배포를 한 방에 할 수 있었다. 사이트 소스를 업데이트한 경우에는 커밋 메시지를 잘 지정해 커밋을 할 수 있고, 사이트를 생성해 배포하는 경우에는 Hexo가 <code>Site updated: + timestamp</code> 형식의 커밋 메시지를 생성해 푸시한다.</p><p>Hugo에는 따로 배포 명령이 있는 것 같지 않다. <code>hugo</code> 명령으로 사이트를 생성한 다음 <code>public</code> 디렉터리에 생성된 파일을 직접 배포해야 한다. 새 글을 쓰고 배포할 때마다 소스 저장소와 <code>public</code> 디렉터리를 따로 커밋하고 푸시해야 해 번거롭다. 그러나 성능과 안정성을 고려하면 이 정도 불편은 충분히 감수할 수 있다.</p><h2 id=heading-4>결론</h2><p>Hugo로 바꾸길 잘 한 것 같다. 블로그 생성 속도가 예전보다 훨씬 빨라져 만족스럽다. 버전을 업그레이드 해도 사이트가 깨지지 않아 마음이 편하다. Go 언어를 모른다는 점이 마음에 조금 걸리지만, 최종 사용자로서 Hugo를 사용한다고 생각하면 불편하게 여길 일도 아니다. 내가 사용하는 모든 소프트웨어의 개발 언어를 알아야 하는 것은 아니니까. 그러나 Hugo 사용을 계기로 Go 언어를 공부해볼까 하는 생각을 해보기도 한다.</p></section><footer class=post-footer><div class="social button-box"><a href=https://twitter.com/share class=twitter-share-button data-show-count=false>Tweet</a>
<a class=twitter-follow-button href=https://twitter.com/ntalbs data-show-count=false>Follow @ntalbs</a>
<script async src=//platform.twitter.com/widgets.js></script></div><nav id=article-nav><a class="article-nav-link-wrap previous" href=https://ntalbs.github.io/2018/project-euler-095/ id=article-nav-newer>프로젝트 오일러 95</a>
<a class="article-nav-link-wrap next" href=https://ntalbs.github.io/2018/project-euler-094/ id=article-nav-older>프로젝트 오일러 94</a></nav></footer></article></main><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname='ntalbs-stuff';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=https://ntalbs.github.io/js/index.js type=text/javascript></script><footer class=page-bottom><div class=inner><section class=copyright>© 2008-2019 <a href=/about>ntalbs</a></section><section class=poweredby>Powered by <a class=icon-ghost href=https://gohugo.io>Hugo</a></section></div></footer></body></html>