tags: [project-euler, clojure]
date: 2015-01-01
title: 프로젝트 오일러 - 문제 1
---
<div class="box">[1000보다 작은 자연수 중에서 3 또는 5의 배수를 모두 더하면?](http://euler.synap.co.kr/prob_detail.php?id=1)</div>

프로젝트 오일러 문제 중 아무 생각 없이 풀 수 있는 문제는 이것 뿐인듯 하다. 이 문제는 너무 단순해 아무렇게나 풀어도 답을 구할 수 있다.<!--more-->

## 간단한 방법
1부터 1000까지 루프를 돌리면서 3 또는 5의 배수만 더하면 된다. Clojure로는 다음과 같이 짤 수 있다.

```
(->> (range 1 1000)
     (filter #(or (= 0 (mod % 3) (mod % 5))))
     (apply +))
```

대부분의 사람들이 이렇게 풀었다.

## 공식 이용
1부터 n까지 자연수의 합 $S(n)$을 구하는 공식은 다음과 같다.

{% math-block %}
S(n) = \frac{n(n+1)}{2}
{% endmath-block %}

$n$이하 $m$의 배수의 합을 $S(n, m)$이라 하면, 다음과 같이 구할 수 있다.

{% math-block %}
\begin{aligned}
S(n, m) &= m + 2m + 3m + ... + n \\
        &= m \times (1 + 2 + 3 + ... + n/m) \\
        &= m \times S(n/m)
\end{aligned}
{% endmath-block %}

3 또는 5의 배수의 합을 구해야 하므로, `(3의 배수의 합) + (5의 배수의 합) - (15의 배수의 합)`을 계산하면 된다.

```
(defn s
  ([n] (/ (* n (+ n 1)) 2))
  ([n m] (* m (s (quot n m)))))

(defn solve []
  (let [n (dec 1000)]
    (-> (s n 3) (+ (s n 5)) (- (s n 15)))))
```

## 정리
`int`, `long` 표현 가능 범위와 관련된 문제는 잠깐 접어두고, 숫자가 커짐에 따라 각 접근법이 어떻게 달라지는지 살펴보자. 무식한 방법을 사용할 경우의 복잡도는 $O(n)$이다. 요즘 같이 컴퓨터 속도가 빠른 세상에 단순한 계산은 루프를 1,000이 아니라 1,000,000까지 돌려도 순식간에 답을 얻을 수 있다. 그러나 숫자가 커질수록 속도가 느려질 것이다. 공식을 이용할 경우의 복잡도는 $O(1)$으로, n 크기에 상관 없이 바로 답을 얻을 수 있다.
