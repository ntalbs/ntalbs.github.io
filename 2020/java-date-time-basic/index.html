<!doctype html><html><head><script src=/js/mode.js type=text/javascript></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3882204692252974" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-2098194-3")</script><meta name=google-site-verification content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","jce8mxrx8a")</script><meta charset=UTF-8><meta http-equiv=content-language content='ko-KR'><meta name=description content="Java 8에 추가된 날짜/시간 API 사용법을 간단히 살펴본다"><meta name=keywords content="Java,자바"><meta name=viewport content="width=device-width,initial-scale=1"><title>Java 날짜/시간 API @ntalbs' stuff</title>
<link rel="shortcut icon" href=/images/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/highlight.css></head><body><div id=progress><div id=bar></div><div class=container><div id=scroll-title>Java 날짜/시간 API</div></div></div><nav class=navbar role=navigation><div class=container><div class=navbar-header><button type=button class="navbar-toggle unselectable" data-toggle=collapse data-target=#nav-items>+</button>
<a class="navbar-brand unselectable" href=/>@ntalbs' stuff</a></div><div class="navbar-items collapsed" id=nav-items><ul><li><input id=search type=search placeholder="Search this site" autocomplete=off></li><li><a class=unselectable href=/archive/>Archive</a></li><li><a class=unselectable href=/tags/>Tags</a></li><li><a class=unselectable href=/about/>About</a></li><li><a id=mode-switch class=unselectable href=#><svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg><svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg></a></li></ul></div></div></nav><header class=page-head><div class=container><p class=blog-description>내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class=container role=main><article class=post><header><p class=post-meta><time datetime=2020-07-01 itemprop=datePublished>2020-07-01</time>
on
<a href=/tags/java/>Java</a></p><h1 class=post-title>Java 날짜/시간 API</h1></header><section class=post-content><p>Java 8부터 새로운 날짜/시간 API가 추가되었다. 날짜/시간 관련 기능을 사용할 일이 생기면 어떤 클래스를 어떻게 사용해야 할지 생각나지 않는 경우가 많아 여기 각 클래스의 기본 사용법을 간단히 정리하려 한다.</p><p>기능을 간단히 테스트할 때는 <code>jshell</code>을 사용하면 편리하다. <code>jshell</code>을 실행한 후, 날짜/시간 관련 클래스를 쉽게 사용할 수 있도록 <code>java.time</code>과 <code>java.time.temporal</code> 패키지를 import 해둔다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>$</span><span class=w> </span><span class=n>jshell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=n>Welcome</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>JShell</span><span class=w> </span><span class=o>--</span><span class=w> </span><span class=n>Version</span><span class=w> </span><span class=n>14</span><span class=p>.</span><span class=na>0</span><span class=p>.</span><span class=na>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=n>For</span><span class=w> </span><span class=n>an</span><span class=w> </span><span class=n>introduction</span><span class=w> </span><span class=n>type</span><span class=p>:</span><span class=w> </span><span class=o>/</span><span class=n>help</span><span class=w> </span><span class=n>intro</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kn>import</span><span class=w> </span><span class=nn>java.time.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kn>import</span><span class=w> </span><span class=nn>java.time.temporal.*</span><span class=w>
</span></span></span></code></pre></div><h2 id=instant>Instant</h2><p><code>Instant</code>는 타임라인의 특정 시점을 나타낸다. 사건이 발생한 시점을 기록하는 데 사용할 수 있다. <code>Instant</code> 객체는 정적 팩터리 메서드로 생성할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Instant</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>now</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01T16</span><span class=p>:</span><span class=n>15</span><span class=p>:</span><span class=n>13</span><span class=p>.</span><span class=na>342880Z</span><span class=w>
</span></span></span></code></pre></div><p>지금이 아닌 다른 시점, 예를 들어 1시간 전 또는 하루 전 <code>Instant</code>는 어떻게 만들 수 있을까? epoch milliseconds를 안다면 <code>Instant.ofEpochSecond</code> 메서드를 사용할 수도 있겠지만, 다음과 같이 하는 게 더 직관적이다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>oneHourAgo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>minus</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>ChronoUnit</span><span class=p>.</span><span class=na>HOURS</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>oneHourAgo</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01T15</span><span class=p>:</span><span class=n>15</span><span class=p>:</span><span class=n>13</span><span class=p>.</span><span class=na>342880Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>oneDayAgo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>minus</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>ChronoUnit</span><span class=p>.</span><span class=na>DAYS</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>oneDayAgo</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>06</span><span class=o>-</span><span class=n>30T16</span><span class=p>:</span><span class=n>15</span><span class=p>:</span><span class=n>13</span><span class=p>.</span><span class=na>342880Z</span><span class=w>
</span></span></span></code></pre></div><p>즉, <code>Instant</code> 객체에 <code>plus</code> 또는 <code>minus</code> 메서드를 사용해 다른 시점을 구할 수 있다. 또한 <code>isAfter</code>, <code>isBefore</code> 메서드로 두 시점의 선후 관계를 알 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>isAfter</span><span class=p>(</span><span class=n>oneHourAgo</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$6</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>isBefore</span><span class=p>(</span><span class=n>oneDayAgo</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$7</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><p><code>Instant</code>에서는 연도, 월, 일과 같은 날짜 기본 정보를 얻을 수 없다. <code>get</code> 메서드로 이런 정보를 얻으려 하면 예외가 발생한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>ChronoField</span><span class=p>.</span><span class=na>YEAR</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=n>Exception</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>time</span><span class=p>.</span><span class=na>temporal</span><span class=p>.</span><span class=na>UnsupportedTemporalTypeException</span><span class=p>:</span><span class=w> </span><span class=n>Unsupported</span><span class=w> </span><span class=n>field</span><span class=p>:</span><span class=w> </span><span class=n>Year</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>        </span><span class=n>at</span><span class=w> </span><span class=n>Instant</span><span class=p>.</span><span class=na>get</span><span class=w> </span><span class=p>(</span><span class=n>Instant</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>566</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>        </span><span class=n>at</span><span class=w> </span><span class=p>(</span><span class=err>#</span><span class=n>6</span><span class=p>:</span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></div><h2 id=localdate--localtime--localdatetime>LocalDate / LocalTime / LocalDateTime</h2><p><code>LocalDate</code>는 시간 정보 없이 날짜만 저장한다. <code>LocalTime</code>은 날짜 정보 없이 시간만 저장한다. <code>LocalDateTime</code>은 날짜와 시간을 함께 저장한다. 세 클래스 모두 시간대(Time-zone) 정보가 없다.</p><h3 id=localdate>LocalDate</h3><p>일반 날짜를 저장할 때 사용할 수 있다. 시간 및 시간대 정보가 없기 때문에 타임라인의 특정 시점을 나타낼 수 없다. 오늘 날짜를 구하려면 <code>now()</code> 메서드를 사용하면 되며, <code>of(year, month, dayOfMonth)</code> 메서드로 원하는 날짜 객체를 만들 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>today</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>today</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2020</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01</span><span class=w>
</span></span></span></code></pre></div><p><code>LocalDate</code>에는 날짜 기본 정보를 얻을 수 있는 여러 메서드가 있다. 예를 들어 연도는 <code>getYear()</code> 메서드로 알 수 있고, 월은 <code>getMonth()</code>나 <code>getMonthValue()</code> 메서드로 알 수 있다. <code>getMonth()</code>는 <code>Month</code> enum을 리턴하고, <code>getMonthValue()</code>는 월을 숫자로 리턴한다. <code>getDayOfWeek()</code>도 <code>DayOfWeek</code> enum을 리턴한다. <code>get(ChronoField.DAY_OF_WEEK)</code>는 요일을 숫자로 리턴한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>getYear</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$11</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>getMonth</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$12</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>JULY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>getMonthValue</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$13</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>7</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>getDayOfWeek</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$14</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>WEDNESDAY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>ChronoField</span><span class=p>.</span><span class=na>DAY_OF_WEEK</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$15</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>3</span><span class=w>
</span></span></span></code></pre></div><p>오늘 날짜는 <code>getDayOfMonth()</code>로 알 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>today</span><span class=p>.</span><span class=na>getDayOfMonth</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$16</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>1</span><span class=w>
</span></span></span></code></pre></div><p><code>Instant</code>와 마찬가지로 <code>plus</code>, <code>minus</code> 메서드로 이전 또는 이후 날짜를 구할 수 있다. <code>LocalDate</code>는 <code>{plus|minus}Days</code>, <code>{plus|minus}Weeks</code>, <code>{plus|minus}Months</code>, <code>{plus|minus}Years</code>를 이용해 며칠, 몇 주, 몇 달, 몇 년 전/후 날짜를 구할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>plus</span><span class=p>(</span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>ChronoUnit</span><span class=p>.</span><span class=na>DAYS</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$17</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>11</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>minusMonths</span><span class=p>(</span><span class=n>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$18</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2019</span><span class=o>-</span><span class=n>11</span><span class=o>-</span><span class=n>01</span><span class=w>
</span></span></span></code></pre></div><p>한가지 재미있는 점은 <code>{plus|minus}Months</code> 동작 방식이다. <code>2020-01-31</code>을 생성한 다음 한 달 후를 구하면 <code>2020-02-29</code>가, 두 달 후를 구하면 <code>2020-03-31</code>, 세 달 후를 구하면 <code>2020-04-30</code>이 된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d31</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2020</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>31</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d31</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>31</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d31</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$20</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>02</span><span class=o>-</span><span class=n>29</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d31</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$21</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>03</span><span class=o>-</span><span class=n>31</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d31</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>3</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$22</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>04</span><span class=o>-</span><span class=n>30</span><span class=w>
</span></span></span></code></pre></div><p><code>2020-01-30</code>을 생성한 다음 한 달 후를 구하면 <code>2020-02-29</code>가, 두 달 후를 구하면 <code>2020-03-30</code>, 세 달 후를 구하면 <code>2020-04-30</code>이 된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d30</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2020</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>30</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d30</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>30</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d30</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$24</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>02</span><span class=o>-</span><span class=n>29</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d30</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$25</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>03</span><span class=o>-</span><span class=n>30</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d30</span><span class=p>.</span><span class=na>plusMonths</span><span class=p>(</span><span class=n>3</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$26</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>04</span><span class=o>-</span><span class=n>30</span><span class=w>
</span></span></span></code></pre></div><p>날짜 수는 매 달마다 다르기 때문에 이렇게 동작하는 것 같다. 달을 더하거나 빼는 데는 약간의 모호함이 있다.</p><p><code>atTime</code> 메서드를 이용해 <code>LocalDate</code>에 시간 정도를 더해 <code>LocalDateTime</code> 객체를 만들 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>atTime</span><span class=p>(</span><span class=n>12</span><span class=p>,</span><span class=w> </span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>25</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$27</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01T12</span><span class=p>:</span><span class=n>10</span><span class=p>:</span><span class=n>25</span><span class=w>
</span></span></span></code></pre></div><p><code>LocalDate</code>에는 <code>datesUntil</code> 메서드가 있어 날짜 스트림을 만들 수 있다. <code>Period</code>로 스텝을 지정할 수도 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>datesUntil</span><span class=p>(</span><span class=n>d</span><span class=p>.</span><span class=na>plusDays</span><span class=p>(</span><span class=n>7</span><span class=p>)).</span><span class=na>collect</span><span class=p>(</span><span class=n>Collectors</span><span class=p>.</span><span class=na>toList</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$29</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=o>[</span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>02</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>03</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>04</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>05</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>06</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>07</span><span class=o>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>datesUntil</span><span class=p>(</span><span class=n>d</span><span class=p>.</span><span class=na>plusDays</span><span class=p>(</span><span class=n>31</span><span class=p>),</span><span class=w> </span><span class=n>Period</span><span class=p>.</span><span class=na>ofDays</span><span class=p>(</span><span class=n>7</span><span class=p>)).</span><span class=na>collect</span><span class=p>(</span><span class=n>Collectors</span><span class=p>.</span><span class=na>toList</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$30</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=o>[</span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>08</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>15</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>22</span><span class=p>,</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>29</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></div><p><code>LocalDate</code> 또한 <code>isAfter</code>, <code>isBefore</code> 메서드로 두 날짜의 선후 관계를 알 수 있다.</p><h3 id=localtime>LocalTime</h3><p>시간을 저장할 때 사용할 수 있다. 날짜 및 시간대 정보가 없기 때문에 타임라인의 특정 시점을 나타낼 수 없다. 시간은 나노 초 정밀도로 저장한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>t0</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalTime</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>t0</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>16</span><span class=p>:</span><span class=n>41</span><span class=p>:</span><span class=n>19</span><span class=p>.</span><span class=na>327766</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>t1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalTime</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>9</span><span class=p>,</span><span class=w> </span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>25</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>t1</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>09</span><span class=p>:</span><span class=n>10</span><span class=p>:</span><span class=n>25</span><span class=w>
</span></span></span></code></pre></div><p><code>plus</code>, <code>minus</code> 메서드로 이전 또는 이후 시간을 구할 수 있다. <code>LocalDate</code>와 마찬가지로 <code>{plus|minus}Hours</code>, <code>{plus|minus}Minutes</code>, <code>{plus|minus}Seconds</code>, <code>{plus|minus}Nanos</code>로 몇 시간, 몇 분, 몇 초, 몇 나노초 전/후 시간을 구할 수 있다.</p><p><code>LocalDate</code>와 비슷하게 <code>atDate</code> 메서드로 날짜를 지정해 <code>LocalDateTime</code> 객체를 만들 수 있고, <code>isBefore</code>, <code>isAfter</code> 메서드로 시간의 선후 관계를 확인할 수 있다.</p><h3 id=localdatetime>LocalDateTime</h3><p>시간과 날짜를 함께 저장할 때 사용할 수 있다. 시간대 정보는 없다. 시간은 <code>LocalTime</code>과 마찬가지로 나노 초 정밀도로 저장한다. 인터페이스는 <code>LocalDate</code>나 <code>LocalTime</code>과 비슷하다. 여러 개의 <code>of</code> 정적 팩터리 메서드가 있고, 다양한 <code>plus*</code>, <code>minus</code> 메서드가 있다.</p><p><code>atOffset</code> 메서드로 오프셋 정보를 추가해 <code>OffsetDateTime</code> 객체를 만들 수 있고, <code>atZone</code> 메서드로 시간대 정보를 추가해 <code>ZonedDateTime</code> 객체를 만들 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$33</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01T17</span><span class=p>:</span><span class=n>33</span><span class=p>:</span><span class=n>45</span><span class=p>.</span><span class=na>298881</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>now</span><span class=p>().</span><span class=na>atOffset</span><span class=p>(</span><span class=n>ZoneOffset</span><span class=p>.</span><span class=na>ofHours</span><span class=p>(</span><span class=n>1</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$34</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01T17</span><span class=p>:</span><span class=n>34</span><span class=p>:</span><span class=n>08</span><span class=p>.</span><span class=na>290028</span><span class=o>+</span><span class=n>01</span><span class=p>:</span><span class=n>00</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>now</span><span class=p>().</span><span class=na>atZone</span><span class=p>(</span><span class=n>ZoneId</span><span class=p>.</span><span class=na>systemDefault</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$35</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>07</span><span class=o>-</span><span class=n>01T17</span><span class=p>:</span><span class=n>34</span><span class=p>:</span><span class=n>32</span><span class=p>.</span><span class=na>793507</span><span class=o>+</span><span class=n>01</span><span class=p>:</span><span class=n>00</span><span class=o>[</span><span class=n>Europe</span><span class=o>/</span><span class=n>London</span><span class=o>]</span><span class=w>
</span></span></span></code></pre></div><h2 id=offsetdatetime--zoneddatetime>OffsetDateTime / ZonedDateTime</h2><p><code>OffsetDateTime</code>은 날짜 시간에 UTC 오프셋이 함께 저장되며, <code>ZonedDateTime</code>은 날짜 시간에 시간대 정보가 함께 저장된다. <code>Instant</code>, <code>OffsetDateTime</code>, <code>ZonedDatetime</code> 모두 타임라인의 특정 시점을 저장하는데, <code>Instant</code>가 가장 단순한 형태고, <code>OffsetDatetime</code>은 인스턴트에 UTC 오프셋이 함께 있으므로 지역 시간을 얻을 수 있게 된다. <code>ZonedDatetime</code>은 가장 복잡한 형태로 일광 절약 시간제(daylight saving time, DST) 같은 시간대 규칙이 모두 저장된다.</p><h2 id=period--duration>Period / Duration</h2><p><code>Period</code>는 1년 2개월 3일과 같은 기간을 나타내고, <code>Duration</code>은 30분 21초와 같은 시간 기간을 나타낸다. 두 클래스 모두 <code>TemporalAmount</code> 인터페이스를 구현한다. 정적 팩터리 메서드 <code>of</code>로 기간을 직접 지정해 만들 수도 있고, <code>between</code> 메서드로 두 시점 사이의 기간을 구할 수 있다. <code>Peroid</code>의 <code>between</code> 메서드는 두 날 사이의 기간을 구하며 두 인자 모두 <code>LocalDate</code>로 받는다</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2018</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d1</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2018</span><span class=o>-</span><span class=n>01</span><span class=o>-</span><span class=n>01</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>now</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d2</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>06</span><span class=o>-</span><span class=n>14</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Period</span><span class=p>.</span><span class=na>between</span><span class=p>(</span><span class=n>d1</span><span class=p>,</span><span class=w> </span><span class=n>d2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>p</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>P2Y5M13D</span><span class=w>
</span></span></span></code></pre></div><p><code>d1</code>과 <code>d2</code> 사이의 <code>Peroid</code>를 구하면 <code>P2Y5M13D</code>로 표시되는데 이는 2년(<code>2Y</code>) 5개월(<code>5M</code>) 13일(<code>13D</code>)을 뜻한다. 각 값은 다음과 같은 구할 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>getYears</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$39</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>getMonths</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$40</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=na>getDays</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$41</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>13</span><span class=w>
</span></span></span></code></pre></div><p><code>Duration</code>의 <code>between</code> 메서드도 비슷하지만, 파라미터 타입이 <code>Temporal</code>이다. <code>LocalDate</code>, <code>LocalTime</code>, <code>OffsetDateTime</code>, <code>OffsetTime</code>, <code>Zoneddatetime</code> 모두 <code>Temporal</code> 인터페이스를 구현하므로 <code>Duration.between</code> 메서드를 호출하는 데 사용할 수 있지만, <code>LocalDate</code>와 같이 시간 정보가 없는 객체로 호출하면 예외가 발생한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>Duration</span><span class=p>.</span><span class=na>between</span><span class=p>(</span><span class=n>d1</span><span class=p>,</span><span class=w> </span><span class=n>d2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>  </span><span class=n>Exception</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>time</span><span class=p>.</span><span class=na>temporal</span><span class=p>.</span><span class=na>UnsupportedTemporalTypeException</span><span class=p>:</span><span class=w> </span><span class=n>Unsupported</span><span class=w> </span><span class=n>unit</span><span class=p>:</span><span class=w> </span><span class=n>Seconds</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>        </span><span class=n>at</span><span class=w> </span><span class=n>LocalDate</span><span class=p>.</span><span class=na>until</span><span class=w> </span><span class=p>(</span><span class=n>LocalDate</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>1657</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>        </span><span class=n>at</span><span class=w> </span><span class=n>Duration</span><span class=p>.</span><span class=na>between</span><span class=w> </span><span class=p>(</span><span class=n>Duration</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>491</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=o>|</span><span class=w>        </span><span class=n>at</span><span class=w> </span><span class=p>(</span><span class=err>#</span><span class=n>25</span><span class=p>:</span><span class=n>1</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>dt1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2020</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>,</span><span class=w> </span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>10</span><span class=p>,</span><span class=w> </span><span class=n>20</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>dt1</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>06</span><span class=o>-</span><span class=n>10T10</span><span class=p>:</span><span class=n>20</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>dt2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>LocalDateTime</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>2020</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>,</span><span class=w> </span><span class=n>11</span><span class=p>,</span><span class=w> </span><span class=n>12</span><span class=p>,</span><span class=w> </span><span class=n>45</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>dt2</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>2020</span><span class=o>-</span><span class=n>06</span><span class=o>-</span><span class=n>11T12</span><span class=p>:</span><span class=n>45</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=kd>var</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Duration</span><span class=p>.</span><span class=na>between</span><span class=p>(</span><span class=n>dt1</span><span class=p>,</span><span class=w> </span><span class=n>dt2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>d</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>PT26H25M20S</span><span class=w>
</span></span></span></code></pre></div><p><code>PT26H25M20S</code>은 26시간 25분 20초를 뜻한다. <code>getSeconds</code> 메서드로 이 기간이 몇 초인지 알 수 있다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>d</span><span class=p>.</span><span class=na>getSeconds</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$46</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>95120</span><span class=w>
</span></span></span></code></pre></div><p><code>Peroid</code>에는 <code>getYears</code>, <code>getMonths</code>, <code>getDays</code> 메서드가 있고 각각 해당 기간의 연, 개월, 날자 수를 리턴한다. <code>Duration</code>에서도 이에 대응하는 <code>getHours</code>, <code>getSeconds</code> 등의 메서드가 있어야 할 것 같은데, <code>getHours</code> 메서드는 없고, <code>getSeconds</code> 메서드는 해당 기간의 초 부분만 리턴하는 게 아니라 전체 기간을 초로 환산한 값을 리턴한다. 인터페이스에 일관성이 없다.</p><p><code>Peroid</code>에도 해당 기간이 전체 며칠이나 되는지 알려주는 메서드가 있으면 좋을텐데 아쉽게 그런 메서드를 찾을 수 없었다. 대신 두 날짜 사이의 날수를 계산하려면 다음과 같이 해야 한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>jshell</span><span class=o>&gt;</span><span class=w> </span><span class=n>ChronoUnit</span><span class=p>.</span><span class=na>DAYS</span><span class=p>.</span><span class=na>between</span><span class=p>(</span><span class=n>d1</span><span class=p>,</span><span class=w> </span><span class=n>d2</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>$47</span><span class=w> </span><span class=o>==&gt;</span><span class=w> </span><span class=n>895</span><span class=w>
</span></span></span></code></pre></div></section><footer class=post-footer><div class="social button-box"><a href=https://twitter.com/share class=twitter-share-button data-show-count=false>Tweet</a>
<a class=twitter-follow-button href=https://twitter.com/ntalbs data-show-count=false>Follow @ntalbs</a>
<script async src=//platform.twitter.com/widgets.js></script></div><nav id=article-nav><a class="article-nav-link-wrap previous" href=/2020/java-date-practice/ id=article-nav-newer>Java 날짜 연산</a>
<a class="article-nav-link-wrap next" href=/2020/console-progress-bar/ id=article-nav-older>콘솔 프로그레스 바</a></nav></footer></article></main><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname="ntalbs-stuff",permalink="https://ntalbs.github.io/2020/java-date-time-basic/".replace(/\//g,"/"),disqus_config=function(){this.page.url=permalink,this.page.identifier=permalink};(function(){var e=document,t=e.createElement("script");t.src="https://"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=/js/index.js type=text/javascript></script><footer class=page-bottom><div class=inner><section class=copyright>© 2008-2024 <a href=/about>ntalbs</a></section><section class=poweredby>Powered by <a class=icon-ghost href=https://gohugo.io>Hugo</a></section></div></footer></body></html>