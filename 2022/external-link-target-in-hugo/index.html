<!doctype html><html><head><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3882204692252974" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-2098194-3")</script><meta charset=utf-8><meta name=google-site-verification content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta property="og:image" content="https://ntalbs.github.io/images/ntalbs.jpg"><meta name=viewport content="width=device-width,initial-scale=1"><title>Hugo: 외부 링크 새 탭에서 열기 @ntalbs' stuff</title><link rel="shortcut icon" href=/images/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/highlight.css></head><body><div id=progress><div id=bar></div><div class=container><div id=scroll-title>Hugo: 외부 링크 새 탭에서 열기</div></div></div><nav class=navbar role=navigation><div class=container><div class=navbar-header><button type=button class="navbar-toggle unselectable" data-toggle=collapse data-target=#nav-items>+</button>
<a class="navbar-brand unselectable" href=/>@ntalbs' stuff</a></div><div class="navbar-items collapsed" id=nav-items><ul><li><a class=unselectable href=/archive/>Archive</a></li><li><a class=unselectable href=/tags/>Tags</a></li><li><a class=unselectable href=/about/>About</a></li><li><a id=mode-switch class=unselectable href=#></a></li></ul></div></div></nav><header class=page-head><div class=container><p class=blog-description>내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class=container role=main><article class=post><header><p class=post-meta><time datetime=2022-06-01 itemprop=datePublished>2022-06-01</time>
on
<a href=/tags/hugo/>hugo</a></p><h1 class=post-title>Hugo: 외부 링크 새 탭에서 열기</h1></header><section class=post-content><p>블로그에서 외부 링크를 열때 새 탭을 쓰지 않고 현재 탭에서 링크를 여는 게 마음에 들지 않았다. 지난 수년 간 블로그를 운영하면서 이 문제를 깨닫지 못한 것은 아마도 링크를 열 때는 거의 항상 <kbd>Cmd</kbd>+클릭을 사용하는 내 습관 때문이었을 것이다. 최근에 문득, '외부 링크는 그냥 새 탭에서 여는 게 맞지 않을까?' 하는 생각이 들었다.</p><p>마크다운에서 링크 <code>target</code> 속성을 지정하는 문법이 있을까 찾아봤지만 그런 문법은 없었다. 일부 마크다운 렌더러는 다음과 같은 확장 문법을 지원한다고 한다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>[<span class=nt>ntalbs&#39; stuff</span>](<span class=na>https://ntalbs.github.io</span>){:target=&#34;_blank&#34;}
</span></span></code></pre></div><p>그러나, Hugo의 마크다운 렌더러에서는 지원되지 않는다.</p><p>혹시 Hugo 설정 중 외부 링크에 <code>target=_blank</code> 속성을 추가하는 옵션이 있지 않을까 찾아봤지만, 역시 없었다. 겨우 찾아낸 방법은 다음과 같이 <code>shortcodes</code>를 만드는 방법이었다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Get &#34;</span><span class=na>href</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;noopener&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span><span class=p>&gt;</span>{{ .Get &#34;title&#34; }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>마크다운 문서를 작성할 때 마크다운 링크 문법 대신 다음과 같이 <code>shortcodes</code>를 사용하면 HTML 렌더링 시 링크 태그에 <code>target</code> 속성이 추가된다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>{{ newtabref href=&#34;https://www.rust-lang.org/&#34; title=&#34;Rust&#34; }}
</span></span></code></pre></div><p>그러나 이 방법을 쓰고 싶지는 않았다. 이건 마크다운이 아니라서 에디터에서 문법 강조가 안 된다. 또한 블로그 문서의 모든 외부 링크를 찾아 수정해야 하는 문제도 있었다.</p><p>이렇게 방법을 찾지 못하고 며칠을 보내다가 문득 StackOverflow에서 JavaScript로 문제를 해결하는 방법을 찾았다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>  <span class=p>[...</span><span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=nx>link</span> <span class=p>=&gt;</span> <span class=nx>link</span><span class=p>.</span><span class=nx>hostname</span> <span class=o>!=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>hostname</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>link</span> <span class=p>=&gt;</span> <span class=nx>link</span><span class=p>.</span><span class=nx>target</span> <span class=o>=</span> <span class=s1>&#39;_blank&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>코드는 단순하다. 문서에 포함된 모든 링크에 대해 <code>link.hostname</code>이 현재 사이트의 <code>hostname</code>과 다르면 외부 링크로 판단해 <code>target="_blank"</code> 속성을 추가하는 것이다.</p><p>나중에 보니 내가 처음 찾았던 문서 <a href=https://code.luasoftware.com/tutorials/hugo/how-to-create-link-with-target-blanks-in-hugo-markdown/>How To Create Link With target='_blank' In Hugo Markdown</a>에도 JavaScript를 사용하는 방법이 있었다. 아마도 처음에는 마크다운이나 Hugo에서 해결하는 방법을 찾고 싶은 나머지 JavaScript를 쓰는 방법은 거들떠 보지도 않았던 것 같다.</p><h2 id=참고>참고</h2><ul><li><a href=https://www.markdownguide.org/hacks/#link-targets>Markdown Guide/Link Targets</a></li><li><a href=https://code.luasoftware.com/tutorials/hugo/how-to-create-link-with-target-blanks-in-hugo-markdown/>How To Create Link With target='_blank' In Hugo Markdown</a></li><li><a href=https://adityatelange.in/blog/hugo-external-link-new-tab/>External Link With target='_blank' in Hugo Markdown</a></li><li><a href=https://stackoverflow.com/questions/4425198/can-i-create-links-with-target-blank-in-markdown>Can I create links with 'target="_blank"' in Markdown?</a></li></ul></section><footer class=post-footer><div class="social button-box"><a href=https://twitter.com/share class=twitter-share-button data-show-count=false>Tweet</a>
<a class=twitter-follow-button href=https://twitter.com/ntalbs data-show-count=false>Follow @ntalbs</a>
<script async src=//platform.twitter.com/widgets.js></script></div><nav id=article-nav><a class="article-nav-link-wrap previous" href=/2022/fox-story/ id=article-nav-newer>여우 이야기</a>
<a class="article-nav-link-wrap next" href=/2022/parsing-command-line-args-in-rust/ id=article-nav-older>Rust에서 명령행 인자 파싱</a></nav></footer></article></main><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname="ntalbs-stuff",permalink="https://ntalbs.github.io/2022/external-link-target-in-hugo/".replace(/\//g,"/"),disqus_config=function(){this.page.url=permalink,this.page.identifier=permalink};(function(){var e=document,t=e.createElement("script");t.src="https://"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=https://ntalbs.github.io/js/index.js type=text/javascript></script>
<script src=https://ntalbs.github.io/js/mode.js type=text/javascript></script><footer class=page-bottom><div class=inner><section class=copyright>© 2008-2022 <a href=/about>ntalbs</a></section><section class=poweredby>Powered by <a class=icon-ghost href=https://gohugo.io>Hugo</a></section></div></footer></body></html>