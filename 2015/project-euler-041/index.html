<!DOCTYPE html><html><head><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3882204692252974" crossorigin="anonymous"></script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-2098194-3")</script><meta charset="utf-8"><meta name="google-site-verification" content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta name="description" content="
$n$자리 팬디지털 소수 중에서 가장 큰 수
문제 자세히 보기: [국어] [영어]

두 가지 방법이 떠오른다. 하나는 clojure.contrib.lazy-seqs의 primes를 이용하는 방법이다. 가장 큰 팬디지털 수는 987654321이므로 이걸 상한으로 소수를 하나씩 조사해가며 팬디지털 수인지 확인해 가장 큰 수를 구하면 된다. 그러나 이 방법은 987654321보다 작은 수 중 가장 큰 소수에 도달할 때까지 확인을 해야 하므로 답을 빠르게 구하기는 어려워 보인다."><meta property="og:title" content="프로젝트 오일러 41 @ntalbs' stuff"><meta property="og:site_name" content="@ntalbs' stuff"><meta property="og:description" content="
$n$자리 팬디지털 소수 중에서 가장 큰 수
문제 자세히 보기: [국어] [영어]

두 가지 방법이 떠오른다. 하나는 clojure.contrib.lazy-seqs의 primes를 이용하는 방법이다. 가장 큰 팬디지털 수는 987654321이므로 이걸 상한으로 소수를 하나씩 조사해가며 팬디지털 수인지 확인해 가장 큰 수를 구하면 된다. 그러나 이 방법은 987654321보다 작은 수 중 가장 큰 소수에 도달할 때까지 확인을 해야 하므로 답을 빠르게 구하기는 어려워 보인다."><meta property="og:url" content="https://ntalbs.github.io/2015/project-euler-041/"><meta name="og:image" content="https://ntalbs.github.io/images/ntalbs.jpg"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@ntalbs"><meta name="twitter:creator" content="@ntalbs"><meta name="viewport" content="width=device-width,initial-scale=1"><title>프로젝트 오일러 41 @ntalbs' stuff</title><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/highlight.css"><style type="text/css">
                            .mjpage .MJX-monospace {
                            font-family: monospace
                            }

                            .mjpage .MJX-sans-serif {
                            font-family: sans-serif
                            }

                            .mjpage {
                            display: inline;
                            font-style: normal;
                            font-weight: normal;
                            line-height: normal;
                            font-size: 100%;
                            font-size-adjust: none;
                            text-indent: 0;
                            text-align: left;
                            text-transform: none;
                            letter-spacing: normal;
                            word-spacing: normal;
                            word-wrap: normal;
                            white-space: nowrap;
                            float: none;
                            direction: ltr;
                            max-width: none;
                            max-height: none;
                            min-width: 0;
                            min-height: 0;
                            border: 0;
                            padding: 0;
                            margin: 0
                            }

                            .mjpage * {
                            transition: none;
                            -webkit-transition: none;
                            -moz-transition: none;
                            -ms-transition: none;
                            -o-transition: none
                            }

                            .mjx-svg-href {
                            fill: blue;
                            stroke: blue
                            }

                            .MathJax_SVG_LineBox {
                            display: table!important
                            }

                            .MathJax_SVG_LineBox span {
                            display: table-cell!important;
                            width: 10000em!important;
                            min-width: 0;
                            max-width: none;
                            padding: 0;
                            border: 0;
                            margin: 0
                            }

                            .mjpage__block {
                            text-align: center;
                            margin: 1em 0em;
                            position: relative;
                            display: block!important;
                            text-indent: 0;
                            max-width: none;
                            max-height: none;
                            min-width: 0;
                            min-height: 0;
                            width: 100%
                            }</style></head><body><div id="progress"><div id="bar"></div><div class="container"><div id="scroll-title">프로젝트 오일러 41</div></div></div><nav class="navbar" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle unselectable" data-toggle="collapse" data-target="#nav-items">+</button>
<a class="navbar-brand unselectable" href="/">@ntalbs' stuff</a></div><div class="navbar-items collapsed" id="nav-items"><ul><li><input id="search" type="search" placeholder="Search this site" autocomplete="off"></li><li><a class="unselectable" href="/archive/">Archive</a></li><li><a class="unselectable" href="/tags/">Tags</a></li><li><a class="unselectable" href="/about/">About</a></li><li><a id="mode-switch" class="unselectable" href="#"></a></li></ul></div></div></nav><header class="page-head"><div class="container"><p class="blog-description">내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class="container" role="main"><article class="post with-math"><header><p class="post-meta"><time datetime="2015-10-26" itemprop="datePublished">2015-10-26</time>
on
<a href="/tags/project-euler/">Project-Euler</a>
<a href="/tags/clojure/">Clojure</a></p><h1 class="post-title">프로젝트 오일러 41</h1></header><section class="post-content"><blockquote><p><span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.676ex" style="vertical-align: -0.338ex;" viewBox="0 -576.1 600.5 721.6" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title">n</title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-6E" x="0" y="0"></use>
</g>
</svg></span>자리 팬디지털 소수 중에서 가장 큰 수</p><p>문제 자세히 보기: <a href="http://euler.synap.co.kr/prob_detail.php?id=41">[국어]</a> <a href="https://projecteuler.net/problem=41">[영어]</a></p></blockquote><p>두 가지 방법이 떠오른다. 하나는 <code>clojure.contrib.lazy-seqs</code>의 <code>primes</code>를 이용하는 방법이다. 가장 큰 팬디지털 수는 987654321이므로 이걸 상한으로 소수를 하나씩 조사해가며 팬디지털 수인지 확인해 가장 큰 수를 구하면 된다. 그러나 이 방법은 987654321보다 작은 수 중 가장 큰 소수에 도달할 때까지 확인을 해야 하므로 답을 빠르게 구하기는 어려워 보인다.</p><p>다른 방법은 <code>clojure.contrib.combinatorics</code>의 <code>permutations</code>를 이용하는 방법이다. <code>[9 8 7 6 5 4 3 2 1]</code>의 순열을 구해 이 중 소수가 있는지 확인하고, 없으면 그 다음에는 <code>[8 7 6 5 4 3 2 1]</code>의 순열을 구해 소수가 있는지 확인하는 방법이다. 1부터 <code>n</code>까지 하나씩 들어있는 시퀀스의 순열을 구하므로 시퀀스의 순열을 이어붙인 숫자는 팬디지털 수다. 큰 수부터 작은 수 순으로 순열을 구하므로 위에서부터 찾아 내려가다가 소수를 만나면 그 소수가 답이라 할 수 있다.</p><p>큰 수부터 탐색해 나가기 위해서는 <code>[9 8 7 ... 1]</code>, <code>[8 6 5 ... 1]</code>, .. <code>[2 1]</code>과 같은 시퀀스를 만들 필요가 있다. 이 시퀀스는 <code>[1 2]</code>, <code>[1 2 3]</code>, ... , <code>[1 2 3 ... 9]</code>와 같은 시퀀스를 만든 다음 시퀀스 자체와 시퀀스 안의 시퀀스를 <code>reverse</code> 해 구하는 것이 쉽다.</p><p>그 다음 순열을 구해 나온 숫자가 소수인지 확인한다. 큰 수부터 탐색해 내려가므로 처음 찾은 소수가 답이다.</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-clojure" data-lang="clojure"><span class="line"><span class="cl"><span class="p">(</span><span class="kd">ns </span><span class="nv">p041</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">util</span> <span class="ss">:refer</span> <span class="p">[</span><span class="nv">parse-int</span> <span class="nv">prime?</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">            <span class="p">[</span><span class="nv">clojure.contrib.combinatorics</span> <span class="ss">:refer</span> <span class="p">[</span><span class="nv">permutations</span><span class="p">]]))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kd">defn </span><span class="nv">solve</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">(</span><span class="nb">reverse </span><span class="p">(</span><span class="nf">reductions</span> <span class="nb">conj </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">(</span><span class="nb">range </span><span class="mi">2</span> <span class="mi">10</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">map </span><span class="nv">reverse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">mapcat </span><span class="nv">permutations</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">map </span><span class="o">#</span><span class="p">(</span><span class="nf">parse-int</span> <span class="p">(</span><span class="nb">apply str </span><span class="nv">%</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nb">filter </span><span class="nv">prime?</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="nv">first</span><span class="p">))</span>
</span></span></code></pre></div><p>직관적인 코드다. 위에서 설명한 절차대로 코드가 씌어 있다. 실행 결과는 다음과 같다.</p><pre class="console">p041=&gt; (time (solve))
"Elapsed time: 778.938065 msecs"
7652???
</pre><h2 id="참고">참고</h2><ul><li><a href="https://github.com/ntalbs/euler-clj/blob/mainline/src/p041.clj">프로젝트 오일러 41 풀이 소스 코드</a></li></ul></section><footer class="post-footer"><div class="social button-box"><a href="https://twitter.com/share" class="twitter-share-button" data-show-count="false">Tweet</a>
<a class="twitter-follow-button" href="https://twitter.com/ntalbs" data-show-count="false">Follow @ntalbs</a>
<script async="" src="//platform.twitter.com/widgets.js"></script></div><nav id="article-nav"><a class="article-nav-link-wrap previous" href="/2015/project-euler-042/" id="article-nav-newer">프로젝트 오일러 42</a>
<a class="article-nav-link-wrap next" href="/2015/project-euler-040/" id="article-nav-older">프로젝트 오일러 40</a></nav></footer></article></main><section class="section"><div class="container"><aside><div id="disqus_thread"></div></aside><script type="text/javascript">var disqus_shortname="ntalbs-stuff",permalink="https://ntalbs.github.io/2015/project-euler-041/".replace(/\//g,"/"),disqus_config=function(){this.page.url=permalink,this.page.identifier=permalink};(function(){var e=document,t=e.createElement("script");t.src="https://"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class="section"><div class="container has-text-centered"><p></p></div></section><script src="/js/index.js" type="text/javascript"></script>
<script src="/js/mode.js" type="text/javascript"></script><footer class="page-bottom"><div class="inner"><section class="copyright">© 2008-2023 <a href="/about">ntalbs</a></section><section class="poweredby">Powered by <a class="icon-ghost" href="https://gohugo.io">Hugo</a></section></div></footer><svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs id="MathJax_SVG_glyphs"><path stroke-width="1" id="MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs></svg></body></html>