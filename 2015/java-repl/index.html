<!DOCTYPE html><html><head><meta name="google-site-verification" content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Java REPL | ntalbs&#39; stuff</title><meta name="description" content=""><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="ntalbs' stuff"></head><body class="home-template"><nav class="navbar" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav-items">+</button> <a class="navbar-brand" href="/">@ntalbs' stuff</a></div><div class="navbar-items collapsed" id="nav-items"><ul><li><a href="/archives">Archives</a></li><li><a href="/tags">Tags</a></li><li><a href="/about">About</a></li></ul></div></div></nav><div id="progress"><div id="bar"></div><div class="container"><div id="scroll-title">Java REPL</div></div></div><header class="site-head"><div class="container"><p class="blog-description">내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class="container" role="main"><article class="post"><header><p class="post-meta"><time datetime="2015-02-02T00:00:00.000Z" itemprop="datePublished">2015-02-02</time> on <a href="/tags/Java/" style="margin:0 5px">Java</a></p><h1 class="post-title">Java REPL</h1></header><section class="post-content"><p>코드를 작성하다 보면 작은 코드 조각을 간단히 테스트해보고 싶을 때가 자주 생긴다. 간단한 계산이 필요할 수도 있고 특정 함수를 호출했을 때의 결과를 확인하고 싶을 수도 있다. 코드가 어떻게 동작하는지 간단히 확인해보고 싶을 수도 있다.<a id="more"></a> REPL이 있다면 이런 궁금한 점을 즉시 확인할 수 있다. 그냥 REPL에서 코드를 입력하고 결과를 확인하면 된다. Clojure나 Scala는 REPL을 제공한다. Ruby나 Python 같은 언어도 REPL을 제공한다. JavaScript도 브라우저 콘솔이나 node.js를 REPL로 사용할 수 있다.</p><p>처음부터 REPL을 중요하게 생각했던 것은 아니다. 예전에는 ‘Eclipse에서 다 되는데 REPL이 왜 필요하다는 거지?’ 하고 의아해했다. 그러나 Scala나 Clojure를 공부하면서 REPL에 익숙해지고 나니 REPL이 없는 Java가 너무 불편하게 느껴졌다. 간단한 아이디어가 맞는지 확인하기 위해 별도로 클래스를 만들어 테스트 코드를 작성하고 결과를 확인하기 위해 <code>System.out.println(...)</code>을 추가한 다음 컴파일하고 실행해야 했다. 객체나 배열, 컬렉션 안을 보려면 이를 출력하는 로직을 따로 작성해야 할 수도 있다. 이렇게 복잡한 작업을 거쳐야 비로소 결과를 확인할 수 있었다. 한동안 테스트 코드와 씨름하다 보면 원래 뭘 하려 했었는지 까먹을 수도 있다.</p><p>그동안 Java에서 작업할 때 REPL이 없어 답답했는데, 최근 우연히 Java REPL이 있다는 사실을 알게 되었다. 콘솔에서 <code>brew search java</code>를 실행했더니 나열된 목록에 <code>javarepl</code>이 보였다. 어, 이게 뭐지? 바로 설치해 테스트를 조금 해봤다.</p><pre class="console">
$ javarepl
Welcome to JavaREPL version 272 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_25)
Type expression to evaluate, <span style="color:#0c0">:help</span> for more options or press <span style="color:#0c0">tab</span> to auto-complete.
java> import java.util.stream.*
<span style="color:#0c0">Imported java.util.stream.*</span>
java> String s = "apple, orange, banana, strawberry"
<span style="color:#0c0">java.lang.String s = "apple, orange, banana, strawberry"</span>
java> s.split(",")
<span style="color:#0c0">java.lang.String[] res1 = ["apple", " orange", " banana", " strawberry"]</span>
java> Arrays.stream(res1).map(s->s.trim()).collect(Collectors.toList())
<span style="color:#0c0">java.util.ArrayList res2 = [apple, orange, banana, strawberry]</span>
java> List&lt;String> fruits = res2
<span style="color:#0c0">java.util.List<java.lang.string> fruits = [apple, orange, banana, strawberry]</java.lang.string></span>
java> fruits.stream().map(x->x.length()).collect(Collectors.toList())
<span style="color:#0c0">java.util.ArrayList res3 = [5, 6, 6, 10]</span>
</pre><p>Java는 코드가 장황해 콘솔에서 긴 코드를 입력해 테스트하는 것이 쉽지는 않지만, 그래도 REPL이 없는 것보다는 낫다고 할 수 있겠다.</p><h2 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h2><ul><li><a href="http://www.javarepl.com/console.html" target="_blank" rel="external">Java REPL</a></li></ul><div class="button-box"><a href="https://twitter.com/share" class="twitter-share-button" data-show-count="false">Tweet</a></div></section><footer class="post-footer"><nav id="article-nav"><a href="/2015/project-euler-007/" id="article-nav-newer" class="article-nav-link-wrap"><span class="article-nav-title">프로젝트 오일러 7</span> </a><a href="/2015/emacs-joining-lines/" id="article-nav-older" class="article-nav-link-wrap"><span class="article-nav-title">Emacs: 행 연결</span></a></nav><section id="comment"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></footer></article></main><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script><footer class="site-footer"><div class="inner"><section class="copyright">&copy; 2008-2015 <a href="/about">ntalbs</a></section><section class="poweredby">Powered by <a class="icon-ghost" href="http://hexo.io">Hexo</a></section></div></footer><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script type="text/javascript" src="/js/jquery.fitvids.js"></script><script type="text/javascript" src="/js/index.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>!function(e,a,t,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=a.createElement(t),o=a.getElementsByTagName(t)[0],s.async=1,s.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(s,o)}(window,document,"script",0,"ga"),ga("create","UA-2098194-3","auto"),ga("require","displayfeatures"),ga("send","pageview")</script><script type="text/javascript">var disqus_shortname="ntalbs-stuff";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>