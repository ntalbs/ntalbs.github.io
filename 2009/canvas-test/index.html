<!doctype html><html><head><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3882204692252974" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-2098194-3")</script><meta charset=utf-8><meta name=google-site-verification content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta property="og:image" content="https://ntalbs.github.io/images/ntalbs.jpg"><meta name=viewport content="width=device-width,initial-scale=1"><title>Canvas 테스트 @ntalbs' stuff</title><link rel="shortcut icon" href=/images/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/highlight.css></head><body><div id=progress><div id=bar></div><div class=container><div id=scroll-title>Canvas 테스트</div></div></div><nav class=navbar role=navigation><div class=container><div class=navbar-header><button type=button class="navbar-toggle unselectable" data-toggle=collapse data-target=#nav-items>+</button>
<a class="navbar-brand unselectable" href=/>@ntalbs' stuff</a></div><div class="navbar-items collapsed" id=nav-items><ul><li><a class=unselectable href=/archive/>Archive</a></li><li><a class=unselectable href=/tags/>Tags</a></li><li><a class=unselectable href=/about/>About</a></li><li><a id=mode-switch class=unselectable href=#></a></li></ul></div></div></nav><header class=page-head><div class=container><p class=blog-description>내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class=container role=main><article class=post><header><p class=post-meta><time datetime=2009-11-16 itemprop=datePublished>2009-11-16</time>
on
<a href=/tags/javascript/>JavaScript</a></p><h1 class=post-title>Canvas 테스트</h1></header><section class=post-content><p><code>&lt;canvas></code> 태그를 사용해 간단한 그림을 그려봤다. <code>&lt;canvas></code> 태그를 이용하면 브라우저에 자유자재로 그림을 그릴 수 있다. Firefox와 같은 Gecko 기반의 브라우저에서는 <code>&lt;canvas></code> 요소(element)를 지원하지만 IE에서는 아직 지원하지 않는다. Chrome 브라우저에서도 <code>&lt;canvas></code>가 잘 동작한다.</p><div style=margin:auto;width:300px;padding:0><canvas id=canvas width=300 height=300></canvas></div><p>소스코드는 다음과 같다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>canvas</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;canvas&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;300&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;300&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>canvas</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// 자바스크립트 소스...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>자바스크립트 코드는 다음과 같다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=p>(</span><span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>timer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>DELAY</span> <span class=o>=</span> <span class=mi>20</span><span class=p>,</span> <span class=nx>LIMIT</span> <span class=o>=</span> <span class=mi>25</span><span class=p>,</span> <span class=nx>step</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;canvas&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>w</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>width</span><span class=p>,</span> <span class=nx>h</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>height</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>ctx</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>getContext</span><span class=p>(</span><span class=s1>&#39;2d&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=p>[</span><span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nx>y</span> <span class=o>=</span> <span class=p>[</span><span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>drawRect</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>color</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=nx>color</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span> <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>],</span> <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>closePath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>function</span> <span class=nx>drawOneRect</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>color</span> <span class=o>=</span> <span class=s1>&#39;rgb(&#39;</span> <span class=o>+</span> <span class=nx>step</span> <span class=o>*</span> <span class=mi>10</span> <span class=o>+</span> <span class=s1>&#39;,0,0)&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>drawRect</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>nx</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span>
</span></span><span class=line><span class=cl>    <span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>ny</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span> <span class=o>/</span> <span class=mi>17</span>
</span></span><span class=line><span class=cl>    <span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>x</span> <span class=o>=</span> <span class=nx>nx</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>y</span> <span class=o>=</span> <span class=nx>ny</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>++</span><span class=nx>step</span> <span class=o>&gt;=</span> <span class=nx>LIMIT</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nb>window</span><span class=p>.</span><span class=nx>clearInterval</span><span class=p>(</span><span class=nx>timer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s2>&#34;rgb(0,0,0)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillRect</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>timer</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>setInterval</span><span class=p>(</span><span class=nx>drawOneRect</span><span class=p>,</span> <span class=nx>DELAY</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span></code></pre></div><p>MDN의 <a href=https://developer.mozilla.org/en/Canvas_tutorial>Canvas tutorial</a>에 <code>&lt;canvas></code>에 대한 자세한 설명이 나와 있다.</p><script type=text/javascript>(function(){var a,c=20,l=25,r=0,i=document.getElementById("canvas"),o=i.width,s=i.height,n=i.getContext("2d"),e=[o/10,o/10,o-o/10,o-o/10],t=[s/10,s-s/10,s-s/10,s/10];function d(e,t,s){n.strokeStyle=s,n.beginPath(),n.moveTo(e[0],t[0]),n.lineTo(e[1],t[1]),n.lineTo(e[2],t[2]),n.lineTo(e[3],t[3]),n.lineTo(e[0],t[0]),n.closePath(),n.stroke()}function u(){var n,s,o="rgb("+r*10+",0,0)";d(e,t,o),n=[e[0]+(e[1]-e[0])/17,e[1]+(e[2]-e[1])/17,e[2]+(e[3]-e[2])/17,e[3]+(e[0]-e[3])/17],s=[t[0]+(t[1]-t[0])/17,t[1]+(t[2]-t[1])/17,t[2]+(t[3]-t[2])/17,t[3]+(t[0]-t[3])/17],e=n,t=s,++r>=l&&window.clearInterval(a)}n.fillStyle="rgb(0,0,0)",n.fillRect(0,0,o,s),a=window.setInterval(u,c)})()</script></section><footer class=post-footer><div class="social button-box"><a href=https://twitter.com/share class=twitter-share-button data-show-count=false>Tweet</a>
<a class=twitter-follow-button href=https://twitter.com/ntalbs data-show-count=false>Follow @ntalbs</a>
<script async src=//platform.twitter.com/widgets.js></script></div><nav id=article-nav><a class="article-nav-link-wrap previous" href=/2009/first-and-last-day-of-week/ id=article-nav-newer>주어진 주의 첫 날과 마지막 날 구하기</a>
<a class="article-nav-link-wrap next" href=/2009/create-db/ id=article-nav-older>오라클 데이터베이스 생성하기</a></nav></footer></article></main><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname="ntalbs-stuff",permalink="https://ntalbs.github.io/2009/canvas-test/".replace(/\//g,"/"),disqus_config=function(){this.page.url=permalink,this.page.identifier=permalink};(function(){var e=document,t=e.createElement("script");t.src="https://"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=https://ntalbs.github.io/js/index.js type=text/javascript></script>
<script src=https://ntalbs.github.io/js/mode.js type=text/javascript></script><footer class=page-bottom><div class=inner><section class=copyright>© 2008-2022 <a href=/about>ntalbs</a></section><section class=poweredby>Powered by <a class=icon-ghost href=https://gohugo.io>Hugo</a></section></div></footer></body></html>