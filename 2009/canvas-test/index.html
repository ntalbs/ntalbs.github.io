<!doctype html><html><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-2098194-3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-2098194-3');</script><meta charset=utf-8><meta name=google-site-verification content="U8HPz3to00q8wRxuKaw82QsuVvOzGyPxcWhySSYAjOE"><meta name=viewport content="width=device-width,initial-scale=1"><title>Canvas 테스트 @ntalbs' stuff</title><link rel="shortcut icon" href=/images/favicon.ico><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/highlight.css></head><body><div id=progress><div id=bar></div><div class=container><div id=scroll-title>Canvas 테스트</div></div></div><nav class=navbar role=navigation><div class=container><div class=navbar-header><button type=button class="navbar-toggle unselectable" data-toggle=collapse data-target=#nav-items>+</button>
<a class="navbar-brand unselectable" href=/>@ntalbs' stuff</a></div><div class="navbar-items collapsed" id=nav-items><ul><li><a class=unselectable href=/archive/>Archive</a></li><li><a class=unselectable href=/tags/>Tags</a></li><li><a class=unselectable href=/about/>About</a></li><li><a id=mode-switch class=unselectable href=#></a></li></ul></div></div></nav><header class=page-head><div class=container><p class=blog-description>내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p></div></header><main class=container role=main><article class=post><header><p class=post-meta><time datetime=2009-11-16 itemprop=datePublished>2009-11-16</time>
on
<a href=/tags/javascript/>JavaScript</a></p><h1 class=post-title>Canvas 테스트</h1></header><section class=post-content><p><code>&lt;canvas></code> 태그를 사용해 간단한 그림을 그려봤다. <code>&lt;canvas></code> 태그를 이용하면 브라우저에 자유자재로 그림을 그릴 수 있다. Firefox와 같은 Gecko 기반의 브라우저에서는 <code>&lt;canvas></code> 요소(element)를 지원하지만 IE에서는 아직 지원하지 않는다. Chrome 브라우저에서도 <code>&lt;canvas></code>가 잘 동작한다.</p><div style=margin:auto;width:300px;padding:0><canvas id=canvas width=300 height=300></canvas></div><p>소스코드는 다음과 같다.</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>canvas</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;canvas&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;300&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;300&#34;</span><span class=p></span><span class=p>&gt;</span><span class=p>&lt;</span><span class=p>/</span><span class=nt>canvas</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p></span><span class=p>&gt;</span>
<span class=c1>// 자바스크립트 소스...
</span><span class=c1></span><span class=p>&lt;</span><span class=p>/</span><span class=nt>script</span><span class=p>&gt;</span>
</code></pre></div><p>자바스크립트 코드는 다음과 같다.</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>timer</span><span class=p>;</span>
  <span class=kd>var</span> <span class=nx>DELAY</span> <span class=o>=</span> <span class=mi>20</span><span class=p>,</span> <span class=nx>LIMIT</span> <span class=o>=</span> <span class=mi>25</span><span class=p>,</span> <span class=nx>step</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

  <span class=kd>var</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;canvas&#39;</span><span class=p>)</span><span class=p>;</span>
  <span class=kd>var</span> <span class=nx>w</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>width</span><span class=p>,</span> <span class=nx>h</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>height</span><span class=p>;</span>
  <span class=kd>var</span> <span class=nx>ctx</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>getContext</span><span class=p>(</span><span class=s1>&#39;2d&#39;</span><span class=p>)</span><span class=p>;</span>

  <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=p>[</span><span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>w</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>10</span><span class=p>]</span><span class=p>,</span>
    <span class=nx>y</span> <span class=o>=</span> <span class=p>[</span><span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>10</span><span class=p>]</span><span class=p>;</span>

  <span class=kd>function</span> <span class=nx>drawRect</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>color</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=nx>color</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>(</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>,</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>,</span> <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=p>,</span> <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=p>,</span> <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>,</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>closePath</span><span class=p>(</span><span class=p>)</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>stroke</span><span class=p>(</span><span class=p>)</span><span class=p>;</span>
  <span class=p>}</span>

  <span class=kd>function</span> <span class=nx>drawOneRect</span><span class=p>(</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>var</span> <span class=nx>color</span> <span class=o>=</span> <span class=s1>&#39;rgb(&#39;</span> <span class=o>+</span> <span class=nx>step</span> <span class=o>*</span> <span class=mi>10</span> <span class=o>+</span> <span class=s1>&#39;,0,0)&#39;</span><span class=p>;</span>
    <span class=nx>drawRect</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>color</span><span class=p>)</span><span class=p>;</span>

    <span class=kd>var</span> <span class=nx>nx</span> <span class=o>=</span> <span class=p>[</span>
      <span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=nx>x</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span>
    <span class=p>]</span><span class=p>;</span>
    <span class=kd>var</span> <span class=nx>ny</span> <span class=o>=</span> <span class=p>[</span>
      <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span><span class=p>,</span>
      <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=nx>y</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=nx>y</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=p>)</span> <span class=o>/</span> <span class=mi>17</span>
    <span class=p>]</span><span class=p>;</span>

    <span class=nx>x</span> <span class=o>=</span> <span class=nx>nx</span><span class=p>;</span>
    <span class=nx>y</span> <span class=o>=</span> <span class=nx>ny</span><span class=p>;</span>

    <span class=k>if</span> <span class=p>(</span><span class=o>++</span><span class=nx>step</span> <span class=o>&gt;=</span> <span class=nx>LIMIT</span><span class=p>)</span> <span class=p>{</span>
      <span class=nb>window</span><span class=p>.</span><span class=nx>clearInterval</span><span class=p>(</span><span class=nx>timer</span><span class=p>)</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>}</span>

  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s2>&#34;rgb(0,0,0)&#34;</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillRect</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>)</span><span class=p>;</span>
  <span class=nx>timer</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>setInterval</span><span class=p>(</span><span class=nx>drawOneRect</span><span class=p>,</span> <span class=nx>DELAY</span><span class=p>)</span><span class=p>;</span>
<span class=p>}</span><span class=p>)</span><span class=p>(</span><span class=p>)</span><span class=p>;</span>
</code></pre></div><p>MDN의 <a href=https://developer.mozilla.org/en/Canvas_tutorial>Canvas tutorial</a>에 <code>&lt;canvas></code>에 대한 자세한 설명이 나와 있다.</p><script type=text/javascript>(function(){var timer;var DELAY=20,LIMIT=25,step=0;var canvas=document.getElementById('canvas');var w=canvas.width,h=canvas.height;var ctx=canvas.getContext('2d');var x=[w/10,w/10,w-w/10,w-w/10],y=[h/10,h-h/10,h-h/10,h/10];function drawRect(x,y,color){ctx.strokeStyle=color;ctx.beginPath();ctx.moveTo(x[0],y[0]);ctx.lineTo(x[1],y[1]);ctx.lineTo(x[2],y[2]);ctx.lineTo(x[3],y[3]);ctx.lineTo(x[0],y[0]);ctx.closePath();ctx.stroke();}
function drawOneRect(){var color='rgb('+step*10+',0,0)';drawRect(x,y,color);var nx=[x[0]+(x[1]-x[0])/17,x[1]+(x[2]-x[1])/17,x[2]+(x[3]-x[2])/17,x[3]+(x[0]-x[3])/17];var ny=[y[0]+(y[1]-y[0])/17,y[1]+(y[2]-y[1])/17,y[2]+(y[3]-y[2])/17,y[3]+(y[0]-y[3])/17];x=nx;y=ny;if(++step>=LIMIT){window.clearInterval(timer);}}
ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,0,w,h);timer=window.setInterval(drawOneRect,DELAY);})();</script></section><footer class=post-footer><div class="social button-box"><a href=https://twitter.com/share class=twitter-share-button data-show-count=false>Tweet</a>
<a class=twitter-follow-button href=https://twitter.com/ntalbs data-show-count=false>Follow @ntalbs</a>
<script async src=//platform.twitter.com/widgets.js></script></div><nav id=article-nav><a class="article-nav-link-wrap previous" href=https://ntalbs.github.io/2009/first-and-last-day-of-week/ id=article-nav-newer>주어진 주의 첫 날과 마지막 날 구하기</a>
<a class="article-nav-link-wrap next" href=https://ntalbs.github.io/2009/create-db/ id=article-nav-older>오라클 데이터베이스 생성하기</a></nav></footer></article></main><section class=section><div class=container><aside><div id=disqus_thread></div></aside><script type=text/javascript>var disqus_shortname='ntalbs-stuff';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></section><section class=section><div class="container has-text-centered"><p></p></div></section><script src=https://ntalbs.github.io/js/index.js type=text/javascript></script><script src=https://ntalbs.github.io/js/mode.js type=text/javascript></script><footer class=page-bottom><div class=inner><section class=copyright>© 2008-2020 <a href=/about>ntalbs</a></section><section class=poweredby>Powered by <a class=icon-ghost href=https://gohugo.io>Hugo</a></section></div></footer></body></html>