tags:
date: 2014-10-15
title: ndoc의 유래
---
네이버 오피스를 만들기 시작했을 때 마음속으로 구글 독스(Google Docs)를 그렸다. 프로젝트 목표도 **구글 독스의 95%를 구현**하는 것이었다. 그런데 어느 날, 네이버 측 담당자가 문서를 ndoc이란 파일로 묶어 N드라이브에 저장해야 한다고 주장했다. (ndoc은 임시 이름이었지만 지금까지 사용되고 있다.)
<!--more-->

나는 다음 이유를 들어 웹 오피스에서 문서를 파일로 보는 것이 불리하다고 역설했다.

* 추후 공유, 공동편집을 제공할 때 사용성에 혼란을 준다.
* 사용자가 문서를 열고 편집하고 저장하는 문서 관리 UI에 혼란이 생긴다.
* ndoc으로 저장된 문서가 돌아다니기 시작하면 하위호환성 문제를 생각해야 한다.

ndoc 파일은 웹 오피스에서만 유효한 파일이다. 어쩌면 사용자는 로컬 PC에 있는 ndoc 파일을 마우스로 더블클릭했을 때 웹 오피스가 열리지 않는 것을 보고 실망할지도 모른다.

N드라이브에 엮이게 되면 웹 오피스 구현 관점에서도 복잡한 문제가 생긴다. 가장 큰 문제는 사용자가 N드라이브에서 문서 파일을 조작해도 웹 오피스에서는 이 사실을 알 수 없다는 점이다. 네이버의 N드라이브 담당자는 'N드라이브는 저장 플랫폼으로 웹 오피스만을 위해 특별한 기능이나 API를 제공할 계획은 없다'고 잘라 말했다. 따라서 사용자가 편집하고 있는 파일을 N드라이브에서 삭제하거나 다른 디렉터리로 옮겨도 웹 오피스에서는 아무런 통지도 받지 못한다. 이 상태에서 문서를 저장하면 원래 위치에 같은 이름으로 파일이 다시 생길 것이다.

N드라이브에서 파일 별로 유일한 아이디를 제공하지 않는 것도 문제였다. 웹 오피스에서는 결국 파일 경로로 파일을 인식해야 했는데, 웹 오피스에서 열어 편집중인 파일을 N드라이브에서 다른 파일로 덮어쓴다 해도 웹 오피스에서 알 방법이 없었다. 결국 문서 별로 유일한 아이디를 만들 수가 없었고, 구글 독스처럼 문서를 북마크 해놓을 수도 없는 구조가 되었다. 파일에 대한 유일한 아이디는 한참 뒤에 네이버 폼을 만들면서 다시 문제가 되었고, 그제서야 N드라이브에서도 파일에 대한 유일한 아이디를 얻을 수 있는 방법을 제공했다.

문서 저장과 관련된 복잡한 문제가 생길 것이 뻔한 구조를 받아들이기에는 위험부담이 너무 컸기에 강력히 반대했지만, **갑의 의지**를 꺾을 수는 없었다.

이렇게 ndoc이란 새로운 파일 형태가 태어났다. 이후 만든 셀과 슬라이드도 워드와 일관성을 맞추기 위해 nxls, nppt로 이름지었다. N드라이브 위에서 웹 오피스 저장 기능을 구현하느라 UI에 생기는 온갖 구멍을 막기 위해 네이버 기획자는 **파워포인트 슬라이드 몇 개를 가득 채운 순서도**를 만들었다. 하도 복잡해 순서도대로 구현하기도 어려웠지만, 순서도서에도 미처 파악하지 못한 구멍이 발견되기 일쑤였다.

**문서를 공유할 때 구글 독스에서는 문서 링크만 보내면 된다.** 문서를 수정하면 다른 사용자도 즉시 변경 내용을 볼 수 있다. **네이버 오피스에서는 ndoc 파일을 메일에 첨부해 보낸다.** MS 오피스를 사용할 때와 마찬가지로 공유와 협업은 불편하다. 문서를 수정하면 파일을 다시 보내야 한다.

우리 회사에서도 개밥먹기 일환으로 MS 오피스나 구글 독스 대신 우리가 만든 오피스를 사용해 문서를 작성한다. 직접 사용하면서 불편한 점이나 버그를 찾아 개선하겠다는 것이니 취지는 나쁘지 않다. 다만 우리 오피스도 네이버 오피스 아키텍처를 그대로 답습해 ndoc 파일을 그대로 사용하고 있다는 게 문제다.

이게 왜 문제일까? **우리 오피스는 구글 독스나 MS 오피스보다 작업을 훨씬 귀찮게 만들어 직원의 생산성을 갉아먹는다.** 한 사람이 우리 오피스로 문서를 만든다. 이걸 공유하려면 ndoc 파일을 다운로드해서 메일로 보내거나 위키에 첨부파일로 올려놓는다. 문서 작성자는 자신이 작성한 중요한 문서를 다른 사람에게 공유하려는 것이므로 이 정도 불편은 감수할 수 있을지 모른다. 이 문서를 볼 때는 어떻게 해야 하는가? 메일이나 위키 페이지에 첨부된 문서를 자신의 PC로 다운로드한 다음 N드라이브 사이트를 방문에 로그인 하고 업로드 해서 웹오피스로 문서를 열어야 한다. 이 무슨 삽질인가?

구글 독스로 공유된 문서라면 브라우저에서 링크만 클릭하면 된다. MS 오피스 파일이라면 다운로드해 바로 열어 볼 수 있다. 그런데 ndoc은 다운로드한 다음 다시 업로드해 문서를 봐야 한다. 문서 하나 보기가 이렇게 짜증나서야. **편하자고 만든 웹 오피스가 오히려 작업을 짜증나게 한다. ndoc 때문이다.**

기능이 풍부한 MS 오피스를 놔두고 웹 오피스를 사용하는 이유는 MS 오피스가 제공하지 못하는 편리함이 있기 때문이다. 웹 오피스는 공유와 공동편집이 쉽고, 접근성이 뛰어나다. 회사 PC에서 작업하던 내용을 집에 가서 다시 볼 수 있다. 다른 사람에게 공유하기도 쉽고 함께 편집할 수도 있다. 파일을 USB에 복사해 갖고 다니지 않아도 된다.

**네이버 오피스가 진정한 웹 오피스로 거듭나려면 어떻게든 ndoc 파일을 안 보이게 해야 한다.** 그러나 네이버에서도 우리 회사에서도 그런 고민을 하는 사람은 보이지 않는다.

## 사족1
나중에 구글이 구글 독스를 구글 드라이브(Google Drive)로 바꾸는 것을 보며 어쩌면 내가 틀렸을 수도 있겠다 생각했다. 구글 독스 UI가 훨씬 편하지만 일반 사용자는 파일 개념에 묶여있어 문서를 파일로 관리하는 게 편하다고 느끼는 모양이라 생각했다. 그러나 최근 구글은 다시 드라이브에서 독스를 분리했다.

구글 드라이브든 구글 독스든 조금만 살펴보면 그저 껍데기가 조금 바뀌었을 뿐 본질은 그대로임을 알 수 있다. 구글 독스와 구글 드라이브는 단단하게 엮여있다. 구글 드라이브에서 문서 이름을 바꾸면 편집중인 창에도 그 내용이 반영된다. 그 반대도 마찬가지다. 그러나 네이버 오피스에서는 그렇지 않다. 네이버 오피스 편집창에서 문서 이름을 바꾼다면 아마 그 사실을 N드라이브에 알려 파일 이름도 바꾸게 할 수는 있을 것이다. 그러나 그 반대가 안 된다. N드라이브에 파일 이름을 바꿔도 네이버 오피스 쪽에서는 그 사실을 알 수 없다.

## 사족2
네이버 오피스 3단계 진행 시 ndoc의 부당성을 지적하는 네이버 내부 문서를 보았다. 네이버에서도 ndoc이란 비표준 파일 형식에 대해 불만을 가진 팀이 있었던 것이다. 그러나 대세를 돌릴 수는 없었다. ndoc을 만들게 했던 네이버 담당자는 다른 조직으로 옮겨갔다.

## 참고
* [네이버 오피스 문서 아이디 문제점](/2014/12/06/naver-office-doc-id/)
