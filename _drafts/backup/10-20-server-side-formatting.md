tags:
date: 2014-10-20
title: 서버사이드 포매팅
---
네이버 오피스 프로젝트를 시작한지 몇 달이 지나도록 진전이 없었다. 개발팀조차 제대로 꾸리지 못했고, 프로젝트 관계자와 모여 뜬구름 잡는 이야기만 하면서 시간을 보내고 있었다. 우리는 가급적 구글 독스와 비슷하게 만들고 싶었다. 잘 모르는 상태에서는 이미 잘 만들어진 제품을 보고 따라 하는 것이 위험을 줄일 수 있는 좋은 방법이라 생각했다. 네이버에서는 MS 오피스에 있는 온갖 기능을 다 넣고 싶어 했다. 그럴 때마다 그렇게 하기 어렵다며 안 되는 이유를 설명하느라 시간을 허비했다.
<!--more-->

**서버사이드 포매팅(server-side formatting)** 이야기도 빼놓을 수 없겠다. 서버사이드 포매팅을 줄기차게 주창한 사람은 다름아닌 네이버 쪽 임원이었다. 초창기 워드 프로세서인 **아리랑**을 개발했던 분이라 했다. 그분은 워드 프로세서를 만든 경험이 있어 워드 프로세서 개발에서 어떤 부분이 어려운지 스스로 잘 알고 있다고 생각했다. 다만 웹에 대해서는 잘 모르는 것 같았다. 웹 오피스를 만들어야 하는데 웹을 잘 모른다는 것은... 어쩌면 큰 결점이 아니었는지도 모른다. 모르는 것은 배우겠다는 열린 마음이 있었다면.

네이버는 **원본과의 유사성**을 지속적으로 강조했다. 웹 오피스에서 MS 오피스 문서를 열었을 때 MS 오피스에서 볼 때와 최대한 비슷하게 보여야 한다는 것이다. 어찌 보면 당연한 요구사항이라 할 수 있으나, 그렇게 하기에는 기술적 제약이 있었다. 브라우저는 HTML을 표시할 뿐인데 MS 오피스와 동일하게 보이도록 할 수 있느냐는 것이었다. 우리는 웹 오피스에서는 HTML/CSS로 가능한 범위까지만 표현할 수 있다고 답했지만 네이버를 만족시키지 못했다. 논란 끝에 네이버에서 들고 나온 것이 서버사이드 포매팅이었다. **브라우저 제약사항 때문에 못한다면 서버에서 포매팅해 그 결과를 브라우저로 보내주면 되지 않겠냐는 발상이었다.**

말도 안 되는 소리였지만, 그분의 위치가 위치인지라 대놓고 무시할 수는 없었다. 그래서 우리는 서버사이드 포매터는 익스포터(exporter)와 동일한 것이라 답했다. 익스포터란 웹 오피스에서 편집한 내용을 MS 오피스 형식 또는 PDF 형식으로 변환해주는 모듈이다. 편집은 브라우저에서 할 수밖에 없으며 브라우저에 보이는 내용은 HTML/CSS로 표현 가능한 범위로 한정된다는 말도 덧붙였다. 그분은 답답하다는듯 말씀하셨다.

> 그분: 클라이언트에서 렌더링하는게 뭐가 그렇게 어렵다는 거야? HTML로 못하면 서버에서 포매팅을 해서 Ajax로 보내서 보여주면 될 것 아냐?

아... 서버에서 포매팅한 결과는 무엇이며,  그게 HTML이 아니라면 브라우저에서는 어떻게 표시할 수 있단 말인가? 서버에서 이미지라도 그려서 보내란 말인가? 그럼 편집은 어떻게 할건가? 속으로는 뚜껑이 열릴 것 같았지만 흥분한다고 될 일은 아니었다.

> 나: 저... 브라우저는 HTML을 보여주는 프로그램입니다...(생략)... 그리고 이사님께서 말씀하시는 Ajax가 제가 알고 있는 Ajax와 다른 것 같습니다만...

그 후로 그분은 Ajax란 용어를 사용하지 않았다. 아무튼 그분이 생각하는 '서버사이드 포매팅'이란게 안 되는 것임을 납득시키는 데 두 달도 넘게 걸렸다. 아무리 웹이 어떻게 돌아가는지, 브라우저가 어떻게 돌아가는지 설명을 해도 받아들이지 않았다. '워드 프로세서에 대해서는 내가 너희들보다 잘 알아. 개뿔도 모르는 것들이 자꾸 안 된다고만 하니 내가 한 수 가르쳐 주지.' 속으로 그렇게 생각하고 있었는지 모르겠다. **자신이 다 안다고 확신하는 사람을 설득하기란 정말 어렵다.**

어설프게 아는 것보다는 모르는게 낫다. 그분이 워드 프로세서를 만들어본 경험이 있는지는 몰라도, 웹 브라우저가 서버에서 HTML을 가져와 정해진 스타일대로 화면에 표시하는 프로그램이란 사실을 제대로 이해하고 있었는지는 의문이다.

서버사이드 포매팅 말고도 그분이 제기한 몇 가지 이슈가 더 있었다. 그분이 이슈를 제기할 때마다 그게 되지도 않는 소리라는 걸 납득시키느라 많은 에너지를 소모했다. 아마 그분이 헛발질을 하지 않았다면 네이버 워드 개발 기간을 몇 달 정도 앞당길 수 있었을지도 모르겠다.
