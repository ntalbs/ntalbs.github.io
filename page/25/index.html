<!DOCTYPE html>
<html>
  <head>
	<meta name="generator" content="Hugo 0.41" />
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>@ntalbs&#39; stuff</title>
<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/css/style.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/googlecode.min.css">


  </head>
  <body>
    <nav class="navbar" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav-items">+</button>
      <a class="navbar-brand" href="/">@ntalbs&#39; stuff</a>
    </div>
    <div class="navbar-items collapsed" id="nav-items">
      <ul>
        
        <li><a href="/archive">Archive</a></li>
        
        <li><a href="/tags">Tags</a></li>
        
        <li><a href="/about">About</a></li>
        
      </ul>
    </div>
  </div>
</nav>

<header class="page-head">
  <div class="container">
    <p class="blog-description">내 이 세상 도처에서 쉴 곳을 찾아보았으나, 마침내 찾아낸, 컴퓨터가 있는 구석방보다 나은 곳은 없더라.</p>
  </div>
</header>

    <main class="container" role="main">
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-08" itemprop="datePublished">2008-11-08</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/extract-ddl/">특정 스키마 DDL 추출</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            다음과 같이 하면 exp/imp 도구를 사용해 특정 스키마의 DDL을 추출할 수 있다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/extract-ddl/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-03" itemprop="datePublished">2008-11-03</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SQL</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/row-generator/">무한 row 생성 쿼리</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            Oracle에서는 다음과 같이 connect by절을 사용해 원하는 만큼 row를 만들어낼 수 있다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/row-generator/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-03" itemprop="datePublished">2008-11-03</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SQL</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/oracle-factorial/">오라클에서 factorial 구하기</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            오라클에 factorial 함수가 없지만 다음과 같이 구할 수 있다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/oracle-factorial/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-03" itemprop="datePublished">2008-11-03</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SQL</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/comp-indexes/">인덱스 비교</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            개발DB와 테스트DB, 또는 테스트DB와 운영DB간 인덱스를 비교할 때는 다음 쿼리를 사용할 수 있다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/comp-indexes/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-03" itemprop="datePublished">2008-11-03</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SQL</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/comp-tables/">테이블 비교</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            프로젝트를 하다보면 개발DB와 테스트DB 또는 테스트DB와 운영DB간 스키마를 비교해 차이점이 없는지 확인할 일이 많다. 다음은 테이블과 컬럼을 비교하는 스크립트다. Full Outer Join을 사용할 수도 있으나, 결과가 제대로 나오지 않거나 에러(ora-600)가 발생한다(Oracle 9i, 10g에서 모두 에러 발생했음). 그냥 left outer join, right outer join한 후 둘을 union 하는 것이 결과가 제대로 나온다. (with절은 Oracle 9i부터 사용 가능함.)
with a as ( select table_name, column_name, decode(data_type, 'CHAR', data_type||'('||data_length||')', 'VARCHAR2', data_type||'('||data_length||')', 'NUMBER', data_type||'('||data_precision||','||data_scale||')', data_type) data_type, nullable from all_tab_columns where owner = 'XXX' and table_name not like 'BIN$%' ), b as ( select table_name, column_name, decode(data_type, 'CHAR', data_type||'('||data_length||')', 'VARCHAR2', data_type||'('||data_length||')', 'NUMBER', data_type||'('||data_precision||','||data_scale||')', data_type) data_type, nullable from all_tab_columns&lt;b id=&quot;ncsj&quot;&gt;@testdb&lt;/b&gt; where owner = 'XXX' and table_name not like 'BIN$%' ) select decode(a.
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/comp-tables/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-01" itemprop="datePublished">2008-11-01</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">Shell</a>
            
            <a href="/tags/">SqlPlus</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/select-shell/">SELECT 결과를 shell 변수로 가져오기</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            select한 결과를 shell에서 참조해야 하는 경우 다음과 같이 하면 된다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/select-shell/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-01" itemprop="datePublished">2008-11-01</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SqlPlus</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/sqlplus-ampersand/">SQL*Plus에서 &#39;&amp;&#39;가 포함된 문자열을 변수로 인식하지 않게 하기</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            문자열 자체에 &amp;가 포함되어 있는 경우 SQL*Plus에서 &amp; 뒤의 단어를 변수로 인식해 그에 대한 값의 입력을 요구한다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/sqlplus-ampersand/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-11-01" itemprop="datePublished">2008-11-01</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/db-files/">db_files 개수에 포함되는 파일은?</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            현재 우리 운영DB는 db_files 파라미터 값이 매우 작게 잡혀있다. 따라서 빨리 값을 늘려줘야 하는데, 당장 운영중인 DB를 내리고 파라미터 값을 바꿀 수는 없다. 그런데 여기서 궁금증 하나 생겼다. db_files는 데이터 파일 개수만 제한하는 것일까, 아니면 temp 파일도 여기에 포함되는 것일까? 혹시 온라인 리두로그는? 혹시 컨트롤 파일도 포함되는 것일까? 지금까지는 당연히 데이터 파일 수를 제한하는 것이라 생각했었는데, 이런 궁금증이 생기니 확신을 할 수가 없다. 지금까지 명확하게 알지 못하고 작업하다가 사고친 게 어디 한두번이던가?

          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/db-files/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-10-31" itemprop="datePublished">2008-10-31</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/long-move-ts/">LONG형 컬럼을 가진 테이블의 테이블스페이스 이동</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            테이블을 다른 테이블스페이스로 옮기려면 다음과 같이 한다.
ALTER TABLE t MOVE TABLESPACE ts_name;  그러나 LONG형 컬럼을 포함하고 있는 테이블에 위 명령을 실행하면 ora-00997 에러가 발생한다. CTAS를 사용해 테이블 복사를 시도해도 같은 에러가 발생한다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/long-move-ts/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
      <article class="post">
        <header class="post-header">
          <span class="post-meta">
            <time datetime="2008-10-31" itemprop="datePublished">2008-10-31</time>
            on
            
            <a href="/tags/">DB</a>
            
            <a href="/tags/">Oracle</a>
            
            <a href="/tags/">SqlPlus</a>
            
          </span>
          <h1 class="post-title">
            <a href="http://ntalbs.github.io/2008/sqlplus-prompt/">SQL*Plus 프롬프트 설정</a>
          </h1>
        </header>
        <section class="post-excerpt">
          <p>
            SQL*Plus의 프롬프트를 username@INSTANCE_NAME &gt;과 같은 식으로 설정하면 현재 로그인한 인스턴스와 사용자 이름을 확인할 수 있어 편하다. logn.sql 스크립트를 만들어 여기에 프롬프트 설정 코드를 넣어두면 된다. Effective Oracle 책(p79)에는 설정 코드가 조금 복잡하게 나와 있다. 
          </p>
          
          <p>
            <a class="button is-link" href="http://ntalbs.github.io/2008/sqlplus-prompt/" style="height:28px">
              Read more...
            </a>
          </p>
          
        </section>
      </article>
      
    </main>
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/24/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="disabled"><span aria-hidden="true">&hellip;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/24/">24</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/page/25/">25</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/26/">26</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/27/">27</a></li>
    
    
    <li
    >
    <a href="/page/26/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/27/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


    <footer class="page-bottom">
  <div class="inner">
    <section class="copyright">© 2008-2018 <a href="/about">ntalbs</a></section>
    <section class="poweredby">Powered by <a class="icon-ghost" href="https://gohugo.io">Hugo</a></section>
  </div>
</footer>

    <section class="section">
  <div class="container has-text-centered">
    <p></p>
  </div>
</section>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/clojure.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/sql.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src=http://ntalbs.github.io/js/index.js type="text/javascript"></script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
   tex2jax: {
     inlineMath: [['$','$']],
     displayMath: [['$$','$$']],
     processEscapes: true,
     processEnvironments: true,
     skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code'],
     TeX: { equationNumbers: { autoNumber: "AMS" },
            extensions: ["AMSmath.js", "AMSsymbols.js"] }
   }
 });
</script>

  </body>
</html>
